{"version":3,"sources":["job/util/eventTypeToID.js"],"names":["getID","async","require","name","cb","findOne","eventTypeName","then","res","_id","create","active","catch","err"],"mappings":";;;;;QAKgBA,K,GAAAA,K;;AAFhB;;;;;;AACA,IAAIC,QAAQC,QAAQ,OAAR,CAAZ,C,CAJA;;;AAKO,SAASF,KAAT,CAAeG,IAAf,EAAqBC,EAArB,EAAyB;AAC9B,sBAAUC,OAAV,CAAkB,EAACC,eAAcH,IAAf,EAAlB,EACGI,IADH,CACQ,UAASC,GAAT,EAAa;AACjB,QAAGA,QAAM,IAAT,EAAc;AACZJ,SAAG,IAAH,EAAQI,IAAIC,GAAZ;AACA;AACD,KAHD,MAGK;AACH,0BAAUC,MAAV,CAAiB;AACfJ,uBAAeH,IADA;AAEfQ,gBAAQ;AAFO,OAAjB,EAGGJ,IAHH,CAGQ,UAASC,GAAT,EAAa;AACnBJ,WAAG,IAAH,EAAQI,IAAIC,GAAZ;AACA;AACD,OAND;AAOD;AACF,GAdH,EAeGG,KAfH,CAeS,UAAUC,GAAV,EAAe;AACpBT,OAAGS,GAAH,EAAO,IAAP;AACA,WAAOA,GAAP;AACD,GAlBH;AAmBD","file":"job/util/eventTypeToID.js","sourcesContent":["/**\n * Created by Pavel.Kogan on 14/08/2016.\n */\nimport EventType from '../../api/eventType/eventType.model';\nvar async = require('async');\nexport function getID(name, cb) {\n  EventType.findOne({eventTypeName:name})\n    .then(function(res){\n      if(res!==null){\n        cb(null,res._id)\n        //return res;\n      }else{\n        EventType.create({\n          eventTypeName: name,\n          active: true\n        }).then(function(res){\n          cb(null,res._id);\n          //return res;\n        })\n      }\n    })\n    .catch(function (err) {\n      cb(err,null);\n      return err;\n    });\n}\n"],"sourceRoot":"/source/"}